"use client";
import { jsx as _jsx } from "react/jsx-runtime";
import { memo, useMemo } from "react";
import { useAuiState } from "@assistant-ui/store";
import { SuggestionByIndexProvider } from "../../context/providers/index.js";
const SuggestionComponent = ({ components }) => {
    const Component = components.Suggestion;
    return _jsx(Component, {});
};
/**
 * Renders a single suggestion at the specified index.
 *
 * This component provides suggestion context for a specific suggestion
 * and renders it using the provided component configuration.
 *
 * @example
 * ```tsx
 * <ThreadPrimitive.SuggestionByIndex
 *   index={0}
 *   components={{
 *     Suggestion: MySuggestion
 *   }}
 * />
 * ```
 */
export const ThreadPrimitiveSuggestionByIndex = memo(({ index, components }) => {
    return (_jsx(SuggestionByIndexProvider, { index: index, children: _jsx(SuggestionComponent, { components: components }) }));
}, (prev, next) => prev.index === next.index &&
    prev.components.Suggestion === next.components.Suggestion);
ThreadPrimitiveSuggestionByIndex.displayName =
    "ThreadPrimitive.SuggestionByIndex";
/**
 * Renders all suggestions using the provided component configuration.
 *
 * This component automatically renders all suggestions from the suggestions scope,
 * providing the appropriate suggestion context for each one.
 *
 * @example
 * ```tsx
 * <ThreadPrimitive.Suggestions
 *   components={{
 *     Suggestion: MySuggestion
 *   }}
 * />
 * ```
 */
export const ThreadPrimitiveSuggestionsImpl = ({ components }) => {
    const suggestionsLength = useAuiState(({ suggestions }) => suggestions.suggestions.length);
    const suggestionElements = useMemo(() => {
        if (suggestionsLength === 0)
            return null;
        return Array.from({ length: suggestionsLength }, (_, index) => (_jsx(ThreadPrimitiveSuggestionByIndex, { index: index, components: components }, index)));
    }, [suggestionsLength, components]);
    return suggestionElements;
};
ThreadPrimitiveSuggestionsImpl.displayName = "ThreadPrimitive.Suggestions";
export const ThreadPrimitiveSuggestions = memo(ThreadPrimitiveSuggestionsImpl, (prev, next) => prev.components.Suggestion === next.components.Suggestion);
//# sourceMappingURL=ThreadSuggestions.js.map